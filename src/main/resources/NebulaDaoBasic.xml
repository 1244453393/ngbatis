<mapper namespace="ye.weicheng.ngbatis.proxy.NebulaDaoBasic">

    <select id="selectBySelective">
        MATCH (n:${ tag })
        @if ( isNotEmpty(columns) ) {
            WHERE
            @for ( col in columns ) {
                n.${ tag }.${ col } == ${ @valueColumns.get( colLP.index - 1 ) }
                @if (!colLP.last) {
                    and
                @}
            @}
        @}
        RETURN n
        LIMIT 4000
    </select>

    <delete id="deleteLogicById">
        DELETE VERTEX ${ id } WITH EDGE
    </delete>

    <delete id="deleteById"></delete>

    <insert id="insert">
        INSERT VERTEX `${ table }` (
                @for ( col in columns ) {
                    `${ col }`  ${ colLP.last ? '' : ',' }
                @}
            )
            VALUES ${ vId } : (
                @for ( val in valueColumns ) {
                    ${ val } ${ valLP.last ? '' : ',' }
                @}
            );
    </insert>

    <insert id="insertSelective"></insert>

    <select id="selectById"></select>

    <select id="selectByIds"></select>

    <select id="selectBySelective"></select>

    <select id="selectBySelectivePrecise"/>
    <select id="selectByMap"/>
    <select id="countByMap"/>
    <select id="selectIdBySelective"/>
    <select id="updateByIdSelective"/>
    <select id="updateByIdWithBLOBs"/>
    <select id="updateById"/>
    <select id="insertBatch"/>
    <select id="countGridByMap"/>
    <select id="selectGridByMap"/>
    <select id="updateSelective"/>
    <select id="selectPageByMap"/>
    <select id="updateBatch"/>

    <insert id="insertEdge">
        INSERT EDGE `${ e }` (
        @for ( col in columns ) {
            `${ col }`
            @if (!colLP.last) {
                ,
            @}
        @}
        )
        VALUES ${ eId1 }-> ${ eId2 } :(
        @for ( val in valueColumns ) {
            ${ val }
            @if (!valLP.last) {
            ,
            @}
        @}
        );
    </insert>

</mapper>